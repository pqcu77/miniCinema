# MiniCinema 快速开始指南

## 🎯 5分钟快速开始

### 第1步：启动后端（2分钟）

```powershell
# 方法1：双击运行批处理文件（推荐Windows用户）
启动后端.bat

# 方法2：命令行启动
mvn spring-boot:run
```

**验证成功**：看到控制台输出 "Started MiniCinemaApplication" 即成功
- 后端运行在：http://localhost:8080

---

### 第2步：启动前端（2分钟）

```powershell
# 方法1：双击运行批处理文件（推荐）
启动前端.bat
# 然后选择 1 (Live Server) 或 2 (Python)

# 方法2：手动启动
cd frontend
live-server  # 或 python -m http.server 8000
```

**验证成功**：浏览器自动打开前端页面
- 前端运行在：http://localhost:5500 或 http://localhost:8000

---

### 第3步：开始测试（1分钟）

打开浏览器，访问前端地址，开始测试：

#### ✅ 测试注册
```
URL: http://localhost:5500
→ 点击 "注册" → 输入信息 → 注册成功
```

#### ✅ 测试登录
```
URL: http://localhost:5500/login.html
→ 输入注册的账号密码 → 登录成功 → 跳转到电影列表页面
```

#### ✅ 验证登录状态
```
打开浏览器 F12 → Console → 运行：
localStorage.getItem('token')  // 应该显示 token 值
localStorage.getItem('user')   // 应该显示用户信息
```

---

## 🐛 如果出现跨域错误

**错误提示**：`Access to XMLHttpRequest at 'http://localhost:8080'... has been blocked by CORS policy`

**解决**：已为后端添加了 CORS 配置 (CorsConfig.java)

- 重新启动后端后，应自动解决此问题

---

## 📚 完整测试清单

| 功能 | 页面 | 预期结果 |
|------|------|--------|
| 注册 | register.html | 注册成功 → 跳转登录页 |
| 登录 | login.html | 登录成功 → 跳转电影列表页 |
| 电影列表 | movies.html | 显示电影、分页、搜索 |
| 电影详情 | movie-detail.html | 显示电影信息、收藏按钮 |
| 个人中心 | user-center.html | 修改信息、修改密码、收藏列表 |
| 退出登录 | 右上角按钮 | 清空登录信息 → 跳转登录页 |

---

## 🔗 后端需要实现的接口

目前已完成：
- ✅ `/user/login` - 登录
- ✅ `/user/register` - 注册

还需实现（前端已准备好调用）：
- `/movie/list` - 电影列表
- `/movie/{id}` - 电影详情
- `/movie/search` - 搜索电影
- `/user/update` - 更新用户信息
- `/user/changePassword` - 修改密码
- `/user/logout` - 退出登录
- `/favorite/add` - 添加收藏
- `/favorite/remove/{id}` - 删除收藏
- `/favorite/list` - 收藏列表

---

## 💡 调试技巧

**打开浏览器控制台（F12）**

1. **Network 标签**：查看所有网络请求
   - 点击任何请求查看详细信息（URL、状态码、响应内容）

2. **Console 标签**：查看错误信息和日志
   - 运行 JavaScript 命令测试

3. **Application 标签**：查看 localStorage
   - 刷新页面后不会丢失登录信息

---

## 📁 文件结构说明

```
MiniCinema/
├── frontend/              ← 前端项目（独立）
│   ├── *.html            ← 各个页面
│   ├── css/style.css     ← 统一样式
│   └── js/               ← JavaScript 文件
│       ├── api.js        ← API 调用
│       ├── utils.js      ← 工具函数
│       └── pages/        ← 各页面逻辑
│
├── src/main/java/        ← 后端代码
│   └── com/cinema/minicinema/
│       ├── Controller/   ← 接口层
│       ├── Service/      ← 业务逻辑
│       ├── Mapper/       ← 数据访问
│       ├── entity/       ← 数据模型
│       ├── dto/          ← 数据传输对象
│       ├── config/       ← 配置（包括 CORS）
│       └── common/       ← 公共组件
│
├── src/main/resources/
│   └── application.yml   ← 数据库配置
│
├── 启动后端.bat         ← 后端启动脚本
├── 启动前端.bat         ← 前端启动脚本
└── 前后端联调测试指南.md ← 完整测试文档
```

---

## 🆘 常见问题

**Q: 前端页面加载不出来？**
A: 检查是否使用了 Live Server 或 Python 服务器启动，不能直接打开 HTML 文件

**Q: 显示"网络错误，请重试"？**
A: 后端服务可能未启动，检查后端是否运行在 http://localhost:8080

**Q: 看不到电影列表？**
A: 数据库中可能没有电影数据，需要手动添加或后端实现列表接口

**Q: localStorage 中没有 token？**
A: 登录可能失败，查看浏览器控制台的错误信息

**Q: 修改邮箱/密码不生效？**
A: 后端的对应接口可能未实现

---

## ✨ 下一步

1. 完成所有后端接口的实现
2. 添加更多功能（购票、评论、支付等）
3. 前端美化和交互优化
4. 部署到服务器

---

有任何问题，查看浏览器 F12 控制台的错误信息！

